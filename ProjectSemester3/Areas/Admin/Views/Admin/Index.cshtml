@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<!-- jQuery Knob -->
<script src="~/plugins/jquery-knob/jquery.knob.min.js"></script>

<!-- opt testing -->
<script>
    $(document).ready(function () {

        $("#btn-X").one("click", function () {
            // otp is at localhost:xxxc/otp/numericOTP,
            // but since we are at localhost:xxxc/admin/admin, ../ is used to return to base url
            var url = "../../otp/numericOTP"

            // otp length
            var length = 6

            $.post(url, length, function (result) {

                // result is a numeric string with length characters
                $("#textBox").val(result);
            }).done(function () {
                var counter = 30;

                var countdown = setInterval(function () {

                    if (counter <= 0) {
                        clearInterval(countdown);
                        alert("time out!");
                        // reset otp here
                    } else {
                        counter -= 1;
                        $("#counter").val(counter).trigger('change');
                    }
                }, 1000);
            })
        });
    })
</script>

<h3>Index admin</h3>

<input id="textBox" type="text" />
<br />
<button id="btn-X">Random</button>
<br />
<input type="text" id="counter" class="knob" value="30" data-max="30" data-thickness="0.1" data-width="90"
       data-height="90" data-fgColor="#00a65a">

<script>
    $(function () {
        /* jQueryKnob */
        $('.knob').knob({
        })
        /* END JQUERY KNOB */
    })

</script>